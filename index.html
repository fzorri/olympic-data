<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Olímpiadas:120 años de datos</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
     <div id="container">
         <h1>Olímpiadas:120 años de datos</h1>

        <!-- Tab Navigation -->
        <div id="tab-navigation">
            <button class="tab-button active" data-tab="physical">Perfil Físico</button>
            <button class="tab-button" data-tab="geographic">Distribución Geográfica</button>
            <button class="tab-button" data-tab="table">Tabla de Datos</button>
        </div>

         <div id="filter-builder">
           
            <div class="filter-row">
                <h3>Filtrar Atletas</h3>
                <select id="filter-field">
                    <option value="height">Estatura</option>
                    <option value="weight">Peso</option>
                    <option value="name">Nombre</option>
                    <option value="gold">Oro</option>
                    <option value="silver">Plata</option>
                    <option value="bronze">Bronce</option>
                    <option value="total_medals">Medallas (Total)</option>
                    <option value="country">País</option>
                    <option value="sport">Deporte</option>
                    <option value="age">Edad</option>
                    <option value="year">Año</option>
                    <option value="gender">Género</option>
                </select>
                <select id="filter-operator">
                    <!-- Populated dynamically -->
                </select>
                <div id="filter-value-container" style="display:inline-block;">
                    <!-- Input or Select populated dynamically -->
                </div>
                <button id="add-filter-btn">Agregar Filtro</button>
            </div>
            <div id="active-filters">
                <!-- Tags go here -->
            </div>
        </div>
        
<!-- Tab Content Containers -->
        <div class="tab-content">
            <!-- Physical Profile Tab -->
            <div id="physical-tab" class="tab-pane active">
                <div id="dashboard">
                    <div class="stat-item">Atletas: <span id="dash-count">0</span></div>
                    <div class="stat-item">Estatura Prom.: <span id="dash-height">0</span> cm</div>
                    <div class="stat-item">Peso Prom.: <span id="dash-weight">0</span> kg</div>
                    <div class="stat-item">País Top: <span id="dash-country">-</span></div>
                    <div class="stat-item">Medallas: <span id="dash-medals">0</span></div>
                    <div class="stat-item warning" id="dash-hidden-container" style="display:none;">Sin datos: <a href="#" id="view-hidden-btn"><span id="dash-hidden">0</span></a></div>
                </div>

                <div id="controls">
                     <label for="height">Estatura (cm):</label>
                     <input type="number" id="height" value="175">
                     <label for="weight">Peso (kg):</label>
                     <input type="number" id="weight" value="70">
                     <button id="compareBtn">Compara tus datos con otros atletas</button>
                 </div>

                         <div id="status"></div>
                         <div id="percentile-feedback"></div>
                 
                         <div id="olympic_athletes">             <div id="olympic_athletes_viz">
                         <span id="tallest" class="legend">Más alto</span>
                         <span id="heaviest" class="legend">Más pesado</span>

                                         <div id="olympic_athletes_wrapper">
                                             <!-- SVG Graph Container -->
                                                                                     <svg id="graph-svg" viewBox="0 0 740 480" preserveAspectRatio="xMidYMid meet">
                                                                                         <g id="plot-area">
                                                                                             <g id="bmi-layer"></g>
                                                                                             <g id="grid-layer"></g>
                                                                                             <g id="dots-layer"></g>
                                                                                         </g>
                                                                                     </svg>                                 </div>
                                     </div>
                                     
                                     <!-- Global Tooltip -->
                                     <div id="graph-tooltip"></div>
                         
                                     <div id="olympic_result_panel">                 <!-- Detail view for a selected athlete -->
                         <div id="olympian_detail" style="display:none;">
                             <div id="olympian_detail_inner">
                                 <span class="close" title="Cerrar">[x]</span>
                                 <h2></h2>
                                 <h3></h3>
                                 <div class="photo"><img src="" alt=""></div>
                                 <p class="height"></p>
                                 <p class="weight"></p>
                                 <p class="age"></p>
                                 <p class="gender"></p>
                                 <p class="sport"></p>
                                 <p class="games"></p>
                                 <p class="city"></p>
                                 <p class="medals-summary"></p>
                                 <p class="medals"></p>
                                 <ol id="olympian_medals"></ol>
                                 <p class="events-label"><strong>Eventos:</strong></p>
                                 <ul id="olympian_events"></ul>
                             </div>
                         </div>

                         <!-- List of matches for a specific coordinate -->
                         <ol id="olympian_list"></ol>
                     </div>
                 </div>
            </div>

            <!-- Geographic Distribution Tab -->
            <div id="geographic-tab" class="tab-pane">
                <div id="geographic-dashboard">
                    <div class="stat-item">Atletas: <span id="geo-dash-count">0</span></div>
                    <div class="stat-item">Países: <span id="geo-dash-countries">0</span></div>
                    <div class="stat-item">País Top: <span id="geo-dash-top-country">-</span></div>
                    <div class="stat-item">Medallas: <span id="geo-dash-medals">0</span></div>
                </div>
                
                <div id="geographic-container">
                    <div id="world-map"></div>
                </div>
            </div>

            <!-- Data Table Tab -->
            <div id="table-tab" class="tab-pane">
                <div id="table-dashboard">
                    <div class="stat-item">Atletas: <span id="table-dash-count">0</span></div>
                    <div class="stat-item">Medallas: <span id="table-dash-medals">0</span></div>
                </div>
                
                <div id="table-export"></div>
                <div id="table-container"></div>
            </div>
        </div>
     </div>

<!-- Data logic first, then visualization script -->
      <script src="data.js"></script>
      <script src="data-generated.js"></script>
      <script src="lib/d3.v7.min.js"></script>
      <script src="lib/topojson.min.js"></script>
      
      <!-- Geographic mapping files -->
      <script src="map/noc-to-iso.js"></script>
      <script src="map/iso-to-noc.js"></script>
      <script src="map/world-topology-data.js"></script>
      
       <!-- Application modules -->
       <script src="js/config.js"></script>
       <script src="js/state.js"></script>
       <script src="js/graph.js"></script>
       <script src="js/ui.js"></script>
       <script src="js/filters.js"></script>
       <script src="js/geographic.js"></script>
       <script src="js/table.js"></script>
       <script src="js/main.js"></script>
 </body>
 </html>